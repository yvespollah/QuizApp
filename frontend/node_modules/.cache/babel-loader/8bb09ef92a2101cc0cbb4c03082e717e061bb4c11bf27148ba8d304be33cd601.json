{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const QuizDetail=()=>{const{quizId}=useParams();const navigate=useNavigate();const[quiz,setQuiz]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchQuizDetails=async()=>{try{setLoading(true);const response=await axios.get(`/quizzes/quizzes/${quizId}/`);setQuiz(response.data);setError(null);}catch(err){console.error('Error fetching quiz details:',err);setError('Failed to load quiz details. Please try again later.');}finally{setLoading(false);}};fetchQuizDetails();},[quizId]);const handleStartQuiz=async()=>{try{// Start a new quiz attempt\nconst response=await axios.post(`/quizzes/quizzes/${quizId}/start/`);const attemptId=response.data.id;// Navigate to the quiz taking page\nnavigate(`/take-quiz/${quizId}?attempt=${attemptId}`);}catch(err){console.error('Error starting quiz:',err);setError('Failed to start quiz. Please try again later.');}};// Function to get difficulty badge color\nconst getDifficultyColor=difficulty=>{switch(difficulty){case'easy':return'bg-green-100 text-green-800';case'medium':return'bg-yellow-100 text-yellow-800';case'hard':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"})}):/*#__PURE__*/_jsx(_Fragment,{children:error?/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}):quiz&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-primary-800\",children:quiz.title}),/*#__PURE__*/_jsx(\"span\",{className:`px-3 py-1 rounded-full text-sm font-medium ${getDifficultyColor(quiz.difficulty)}`,children:quiz.difficulty.charAt(0).toUpperCase()+quiz.difficulty.slice(1)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:quiz.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500 mb-1\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:quiz.subject})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500 mb-1\",children:\"Questions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:quiz.question_count})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500 mb-1\",children:\"Time Limit\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:quiz.time_limit?`${quiz.time_limit} minutes`:'No time limit'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 pt-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4\",children:\"About This Quiz\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"This quiz contains \",quiz.question_count,\" multiple-choice questions on \",quiz.subject,\". After completing the quiz, you'll receive your score and AI-generated explanations for each question.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\",children:[/*#__PURE__*/_jsx(Link,{to:\"/quizzes\",className:\"text-primary-600 hover:text-primary-800 font-medium\",children:\"\\u2190 Back to Quizzes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartQuiz,className:\"bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-md transition duration-300\",children:\"Start Quiz\"})]})]})]})})})});};export default QuizDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QuizDetail","quizId","navigate","quiz","setQuiz","loading","setLoading","error","setError","fetchQuizDetails","response","get","data","err","console","handleStartQuiz","post","attemptId","id","getDifficultyColor","difficulty","className","children","title","charAt","toUpperCase","slice","description","subject","question_count","time_limit","to","onClick"],"sources":["/home/yves/Test/frontend/src/pages/QuizDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst QuizDetail = () => {\n  const { quizId } = useParams();\n  const navigate = useNavigate();\n  const [quiz, setQuiz] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchQuizDetails = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`/quizzes/quizzes/${quizId}/`);\n        setQuiz(response.data);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching quiz details:', err);\n        setError('Failed to load quiz details. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchQuizDetails();\n  }, [quizId]);\n\n  const handleStartQuiz = async () => {\n    try {\n      // Start a new quiz attempt\n      const response = await axios.post(`/quizzes/quizzes/${quizId}/start/`);\n      const attemptId = response.data.id;\n      \n      // Navigate to the quiz taking page\n      navigate(`/take-quiz/${quizId}?attempt=${attemptId}`);\n    } catch (err) {\n      console.error('Error starting quiz:', err);\n      setError('Failed to start quiz. Please try again later.');\n    }\n  };\n\n  // Function to get difficulty badge color\n  const getDifficultyColor = (difficulty) => {\n    switch (difficulty) {\n      case 'easy':\n        return 'bg-green-100 text-green-800';\n      case 'medium':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'hard':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Loading state */}\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"></div>\n        </div>\n      ) : (\n        <>\n          {/* Error message */}\n          {error ? (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n              {error}\n            </div>\n          ) : (\n            quiz && (\n              <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n                <div className=\"p-6\">\n                  <div className=\"flex justify-between items-start mb-4\">\n                    <h1 className=\"text-3xl font-bold text-primary-800\">{quiz.title}</h1>\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium ${getDifficultyColor(quiz.difficulty)}`}>\n                      {quiz.difficulty.charAt(0).toUpperCase() + quiz.difficulty.slice(1)}\n                    </span>\n                  </div>\n                  \n                  <p className=\"text-gray-600 mb-6\">{quiz.description}</p>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\n                      <h3 className=\"text-sm font-medium text-gray-500 mb-1\">Subject</h3>\n                      <p className=\"text-lg font-semibold\">{quiz.subject}</p>\n                    </div>\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\n                      <h3 className=\"text-sm font-medium text-gray-500 mb-1\">Questions</h3>\n                      <p className=\"text-lg font-semibold\">{quiz.question_count}</p>\n                    </div>\n                    <div className=\"bg-gray-50 p-4 rounded-lg\">\n                      <h3 className=\"text-sm font-medium text-gray-500 mb-1\">Time Limit</h3>\n                      <p className=\"text-lg font-semibold\">\n                        {quiz.time_limit ? `${quiz.time_limit} minutes` : 'No time limit'}\n                      </p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"border-t border-gray-200 pt-6\">\n                    <h2 className=\"text-xl font-semibold mb-4\">About This Quiz</h2>\n                    <p className=\"text-gray-600 mb-6\">\n                      This quiz contains {quiz.question_count} multiple-choice questions on {quiz.subject}.\n                      After completing the quiz, you'll receive your score and AI-generated explanations for each question.\n                    </p>\n                    \n                    <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\n                      <Link\n                        to=\"/quizzes\"\n                        className=\"text-primary-600 hover:text-primary-800 font-medium\"\n                      >\n                        ‚Üê Back to Quizzes\n                      </Link>\n                      <button\n                        onClick={handleStartQuiz}\n                        className=\"bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-md transition duration-300\"\n                      >\n                        Start Quiz\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default QuizDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}