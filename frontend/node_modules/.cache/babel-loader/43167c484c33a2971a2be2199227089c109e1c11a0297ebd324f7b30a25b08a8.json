{"ast":null,"code":"var _jsxFileName = \"/home/yves/Test/frontend/src/context/AuthContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Notification from '../components/Notification';\n\n// Create context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [notification, setNotification] = useState({\n    message: null,\n    type: null\n  });\n  const [error, setError] = useState(null);\n\n  // Check if user is logged in on initial load\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      // Check if token exists in local storage\n      const token = localStorage.getItem('token');\n      if (token) {\n        // Load user data - Version optimisée pour la production\n        const loadUser = async () => {\n          if (localStorage.token) {\n            setAuthToken(localStorage.token);\n          } else {\n            setLoading(false);\n            return; // Pas de token, pas besoin de charger l'utilisateur\n          }\n          try {\n            // Utiliser le chemin complet pour l'API en production\n            const endpoint = process.env.NODE_ENV === 'production' ? '/api/users/profile/' : '/users/profile/';\n            const res = await axios.get(endpoint);\n            setUser(res.data);\n            setIsAuthenticated(true);\n            setLoading(false);\n          } catch (err) {\n            console.error('Erreur de chargement utilisateur:', err);\n            localStorage.removeItem('token'); // Supprimer le token invalide\n            setAuthToken(null);\n            setUser(null);\n            setIsAuthenticated(false);\n            setLoading(false);\n          }\n        };\n        loadUser();\n      } else {\n        setLoading(false);\n      }\n    };\n    checkLoggedIn();\n  }, []);\n\n  // Set auth token for axios\n  const setAuthToken = token => {\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n      delete axios.defaults.headers.common['Authorization'];\n    }\n  };\n\n  // Register user - Version simplifiée\n  const register = async userData => {\n    try {\n      console.log('Tentative d\\'inscription avec:', userData);\n\n      // Endpoint d'inscription simplifié\n      // Éviter le doublon api/api en utilisant le chemin correct\n      const endpoint = '/users/register/';\n      console.log('URL d\\'inscription:', axios.defaults.baseURL + endpoint);\n      const res = await axios.post(endpoint, {\n        username: userData.username,\n        email: userData.email,\n        password: userData.password,\n        password2: userData.password2,\n        bio: userData.bio || ''\n      });\n      console.log('Réponse d\\'inscription:', res.data);\n\n      // Afficher une alerte simple de succès\n      alert('Inscription réussie! Vos données ont été enregistrées dans la base de données. Vous pouvez maintenant vous connecter.');\n\n      // Rediriger vers la page de connexion immédiatement\n      window.location.href = '/login';\n      return res.data;\n    } catch (err) {\n      var _err$response;\n      console.error('Erreur d\\'inscription:', err);\n\n      // Message d'erreur simplifié\n      let message = 'L\\'inscription a échoué. Vérifiez votre connexion internet.';\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && _err$response.data) {\n        console.log('Données d\\'erreur:', err.response.data);\n        if (typeof err.response.data === 'object') {\n          // Simplifier le message d'erreur\n          const errorMessages = [];\n          for (const key in err.response.data) {\n            const value = err.response.data[key];\n            errorMessages.push(`${key}: ${Array.isArray(value) ? value.join(', ') : value}`);\n          }\n          message = errorMessages.join('\\n');\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n      setError(message);\n      setNotification({\n        message: message,\n        type: 'error'\n      });\n    }\n  };\n\n  // Login user - Version simplifiée\n  const login = async userData => {\n    try {\n      console.log('Tentative de connexion avec:', userData);\n\n      // Endpoint de connexion simplifié\n      // Éviter le doublon api/api en utilisant le chemin correct\n      const endpoint = '/token/';\n      console.log('URL de connexion:', axios.defaults.baseURL + endpoint);\n\n      // Le backend attend 'email' comme champ d'authentification\n      const res = await axios.post(endpoint, {\n        email: userData.email || userData.username,\n        // Accepte soit email soit username\n        password: userData.password\n      });\n      console.log('Réponse de connexion:', res.data);\n\n      // Sauvegarder le token dans le stockage local\n      localStorage.setItem('token', res.data.access);\n\n      // Configurer le token d'authentification pour les futures requêtes\n      setAuthToken(res.data.access);\n\n      // Charger les données de l'utilisateur\n      const profileEndpoint = '/api/users/profile/';\n      const userRes = await axios.get(profileEndpoint);\n\n      // Mettre à jour l'état avec les données de l'utilisateur\n      setUser(userRes.data);\n      setIsAuthenticated(true);\n\n      // Afficher une alerte simple de succès\n      alert('Connexion réussie! Vos données ont été chargées depuis la base de données.');\n\n      // Rediriger vers la page d'accueil immédiatement\n      window.location.href = '/';\n      return res.data;\n    } catch (err) {\n      var _err$response2;\n      console.error('Erreur de connexion:', err);\n\n      // Message d'erreur simplifié\n      let message = 'Échec de connexion. Vérifiez vos identifiants.';\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && _err$response2.data) {\n        console.log('Données d\\'erreur:', err.response.data);\n        if (typeof err.response.data === 'object') {\n          if (err.response.data.detail) {\n            message = err.response.data.detail;\n          } else {\n            // Simplifier le message d'erreur\n            const errorMessages = [];\n            for (const key in err.response.data) {\n              const value = err.response.data[key];\n              errorMessages.push(`${key}: ${Array.isArray(value) ? value.join(', ') : value}`);\n            }\n            message = errorMessages.join('\\n');\n          }\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n\n      // Afficher l'erreur avec une alerte simple\n      alert('Erreur: ' + message);\n    }\n  };\n\n  // Logout user\n  const logout = () => {\n    // Remove token from local storage\n    localStorage.removeItem('token');\n\n    // Remove auth token from headers\n    setAuthToken(null);\n\n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n\n  // Update user profile - Version optimisée pour la production\n  const updateProfile = async userData => {\n    try {\n      setError(null);\n      setNotification({\n        message: null,\n        type: null\n      });\n\n      // Utiliser le chemin complet pour l'API en production\n      // Le chemin correct est '/api/users/me/' en production et '/api/users/me/' en développement\n      // car nous avons déjà configuré axios.defaults.baseURL dans App.js\n      const endpoint = '/api/users/me/';\n      const res = await axios.put(endpoint, userData);\n      setUser(res.data);\n\n      // Afficher une notification de succès\n      setNotification({\n        message: 'Profil mis à jour avec succès!',\n        type: 'success'\n      });\n      return res.data;\n    } catch (err) {\n      var _err$response3;\n      console.error('Erreur de mise à jour du profil:', err);\n      let message = 'La mise à jour du profil a échoué';\n      if ((_err$response3 = err.response) !== null && _err$response3 !== void 0 && _err$response3.data) {\n        if (typeof err.response.data === 'object') {\n          if (err.response.data.detail) {\n            message = err.response.data.detail;\n          } else {\n            // Simplifier le message d'erreur\n            message = Object.keys(err.response.data).map(key => {\n              const value = err.response.data[key];\n              return `${key}: ${Array.isArray(value) ? value.join(', ') : value}`;\n            }).join(', ');\n          }\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n      setError(message);\n      setNotification({\n        message: message,\n        type: 'error'\n      });\n      throw err;\n    }\n  };\n\n  // Clear errors and notifications\n  const clearNotifications = () => {\n    setError(null);\n    setNotification({\n      message: null,\n      type: null\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      isAuthenticated,\n      loading,\n      error,\n      notification,\n      register,\n      login,\n      logout,\n      updateProfile,\n      clearNotifications\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n};\n\n// Export context for use in components\n_s(AuthProvider, \"LC005Ni6swAbgNWStCReOc2kHAA=\");\n_c = AuthProvider;\nAuthContext.displayName = 'AuthContext';\nAuthProvider.context = AuthContext;\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","axios","Notification","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","user","setUser","isAuthenticated","setIsAuthenticated","loading","setLoading","notification","setNotification","message","type","error","setError","checkLoggedIn","token","localStorage","getItem","loadUser","setAuthToken","endpoint","process","env","NODE_ENV","res","get","data","err","console","removeItem","defaults","headers","common","register","userData","log","baseURL","post","username","email","password","password2","bio","alert","window","location","href","_err$response","response","errorMessages","key","value","push","Array","isArray","join","request","login","setItem","access","profileEndpoint","userRes","_err$response2","detail","logout","updateProfile","put","_err$response3","Object","keys","map","clearNotifications","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","displayName","context","$RefreshReg$"],"sources":["/home/yves/Test/frontend/src/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Notification from '../components/Notification';\n\n// Create context\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [notification, setNotification] = useState({ message: null, type: null });\n  const [error, setError] = useState(null);\n\n  // Check if user is logged in on initial load\n  useEffect(() => {\n    const checkLoggedIn = async () => {\n      // Check if token exists in local storage\n      const token = localStorage.getItem('token');\n      \n      if (token) {\n        // Load user data - Version optimisée pour la production\n        const loadUser = async () => {\n          if (localStorage.token) {\n            setAuthToken(localStorage.token);\n          } else {\n            setLoading(false);\n            return; // Pas de token, pas besoin de charger l'utilisateur\n          }\n          \n          try {\n            // Utiliser le chemin complet pour l'API en production\n            const endpoint = process.env.NODE_ENV === 'production' \n              ? '/api/users/profile/' \n              : '/users/profile/';\n            \n            const res = await axios.get(endpoint);\n            setUser(res.data);\n            setIsAuthenticated(true);\n            setLoading(false);\n          } catch (err) {\n            console.error('Erreur de chargement utilisateur:', err);\n            localStorage.removeItem('token'); // Supprimer le token invalide\n            setAuthToken(null);\n            setUser(null);\n            setIsAuthenticated(false);\n            setLoading(false);\n          }\n        };\n        \n        loadUser();\n      } else {\n        setLoading(false);\n      }\n    };\n    \n    checkLoggedIn();\n  }, []);\n\n  // Set auth token for axios\n  const setAuthToken = (token) => {\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    } else {\n      delete axios.defaults.headers.common['Authorization'];\n    }\n  };\n\n  // Register user - Version simplifiée\n  const register = async (userData) => {\n    try {\n      console.log('Tentative d\\'inscription avec:', userData);\n      \n      // Endpoint d'inscription simplifié\n      // Éviter le doublon api/api en utilisant le chemin correct\n      const endpoint = '/users/register/';\n      \n      console.log('URL d\\'inscription:', axios.defaults.baseURL + endpoint);\n      \n      const res = await axios.post(endpoint, {\n        username: userData.username,\n        email: userData.email,\n        password: userData.password,\n        password2: userData.password2,\n        bio: userData.bio || ''\n      });\n      \n      console.log('Réponse d\\'inscription:', res.data);\n      \n      // Afficher une alerte simple de succès\n      alert('Inscription réussie! Vos données ont été enregistrées dans la base de données. Vous pouvez maintenant vous connecter.');\n      \n      // Rediriger vers la page de connexion immédiatement\n      window.location.href = '/login';\n      \n      return res.data;\n    } catch (err) {\n      console.error('Erreur d\\'inscription:', err);\n      \n      // Message d'erreur simplifié\n      let message = 'L\\'inscription a échoué. Vérifiez votre connexion internet.';\n      \n      if (err.response?.data) {\n        console.log('Données d\\'erreur:', err.response.data);\n        if (typeof err.response.data === 'object') {\n          // Simplifier le message d'erreur\n          const errorMessages = [];\n          for (const key in err.response.data) {\n            const value = err.response.data[key];\n            errorMessages.push(`${key}: ${Array.isArray(value) ? value.join(', ') : value}`);\n          }\n          message = errorMessages.join('\\n');\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n      \n      setError(message);\n      setNotification({\n        message: message,\n        type: 'error'\n      });\n    }\n  };\n\n  // Login user - Version simplifiée\n  const login = async (userData) => {\n    try {\n      console.log('Tentative de connexion avec:', userData);\n      \n      // Endpoint de connexion simplifié\n      // Éviter le doublon api/api en utilisant le chemin correct\n      const endpoint = '/token/';\n      \n      console.log('URL de connexion:', axios.defaults.baseURL + endpoint);\n      \n      // Le backend attend 'email' comme champ d'authentification\n      const res = await axios.post(endpoint, {\n        email: userData.email || userData.username, // Accepte soit email soit username\n        password: userData.password\n      });\n      \n      console.log('Réponse de connexion:', res.data);\n      \n      // Sauvegarder le token dans le stockage local\n      localStorage.setItem('token', res.data.access);\n      \n      // Configurer le token d'authentification pour les futures requêtes\n      setAuthToken(res.data.access);\n      \n      // Charger les données de l'utilisateur\n      const profileEndpoint = '/api/users/profile/';\n      \n      const userRes = await axios.get(profileEndpoint);\n      \n      // Mettre à jour l'état avec les données de l'utilisateur\n      setUser(userRes.data);\n      setIsAuthenticated(true);\n      \n      // Afficher une alerte simple de succès\n      alert('Connexion réussie! Vos données ont été chargées depuis la base de données.');\n      \n      // Rediriger vers la page d'accueil immédiatement\n      window.location.href = '/';\n      \n      return res.data;\n    } catch (err) {\n      console.error('Erreur de connexion:', err);\n      \n      // Message d'erreur simplifié\n      let message = 'Échec de connexion. Vérifiez vos identifiants.';\n      \n      if (err.response?.data) {\n        console.log('Données d\\'erreur:', err.response.data);\n        if (typeof err.response.data === 'object') {\n          if (err.response.data.detail) {\n            message = err.response.data.detail;\n          } else {\n            // Simplifier le message d'erreur\n            const errorMessages = [];\n            for (const key in err.response.data) {\n              const value = err.response.data[key];\n              errorMessages.push(`${key}: ${Array.isArray(value) ? value.join(', ') : value}`);\n            }\n            message = errorMessages.join('\\n');\n          }\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n      \n      // Afficher l'erreur avec une alerte simple\n      alert('Erreur: ' + message);\n    }\n  };\n\n  // Logout user\n  const logout = () => {\n    // Remove token from local storage\n    localStorage.removeItem('token');\n    \n    // Remove auth token from headers\n    setAuthToken(null);\n    \n    // Reset state\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n\n  // Update user profile - Version optimisée pour la production\n  const updateProfile = async (userData) => {\n    try {\n      setError(null);\n      setNotification({ message: null, type: null });\n      \n      // Utiliser le chemin complet pour l'API en production\n      // Le chemin correct est '/api/users/me/' en production et '/api/users/me/' en développement\n      // car nous avons déjà configuré axios.defaults.baseURL dans App.js\n      const endpoint = '/api/users/me/';\n      \n      const res = await axios.put(endpoint, userData);\n      setUser(res.data);\n      \n      // Afficher une notification de succès\n      setNotification({\n        message: 'Profil mis à jour avec succès!',\n        type: 'success'\n      });\n      \n      return res.data;\n    } catch (err) {\n      console.error('Erreur de mise à jour du profil:', err);\n      \n      let message = 'La mise à jour du profil a échoué';\n      \n      if (err.response?.data) {\n        if (typeof err.response.data === 'object') {\n          if (err.response.data.detail) {\n            message = err.response.data.detail;\n          } else {\n            // Simplifier le message d'erreur\n            message = Object.keys(err.response.data)\n              .map(key => {\n                const value = err.response.data[key];\n                return `${key}: ${Array.isArray(value) ? value.join(', ') : value}`;\n              })\n              .join(', ');\n          }\n        } else if (typeof err.response.data === 'string') {\n          message = err.response.data;\n        }\n      } else if (err.request) {\n        // La requête a été faite mais pas de réponse\n        message = 'Erreur réseau: Impossible de contacter le serveur';\n      } else {\n        // Erreur lors de la configuration de la requête\n        message = err.message || 'Erreur inconnue';\n      }\n      \n      setError(message);\n      setNotification({\n        message: message,\n        type: 'error'\n      });\n      \n      throw err;\n    }\n  };\n\n  // Clear errors and notifications\n  const clearNotifications = () => {\n    setError(null);\n    setNotification({ message: null, type: null });\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated,\n        loading,\n        error,\n        notification,\n        register,\n        login,\n        logout,\n        updateProfile,\n        clearNotifications\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Export context for use in components\nAuthContext.displayName = 'AuthContext';\nAuthProvider.context = AuthContext;\nexport default AuthContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}