{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const QuizHistory=()=>{const[attempts,setAttempts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchQuizHistory=async()=>{try{setLoading(true);const response=await axios.get('/quizzes/history/');setAttempts(response.data);setError(null);}catch(err){console.error('Error fetching quiz history:',err);setError('Failed to load quiz history. Please try again later.');}finally{setLoading(false);}};fetchQuizHistory();},[]);// Format date\nconst formatDate=dateString=>{const options={year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'};return new Date(dateString).toLocaleDateString(undefined,options);};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8 text-center text-primary-800\",children:\"Your Quiz History\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",children:error}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"})}):/*#__PURE__*/_jsx(_Fragment,{children:attempts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-8 text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-gray-700\",children:\"No Quiz History Yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"You haven't completed any quizzes yet. Start taking quizzes to build your history!\"}),/*#__PURE__*/_jsx(Link,{to:\"/quizzes\",className:\"bg-primary-600 hover:bg-primary-700 text-white py-2 px-6 rounded-md transition duration-300 inline-block\",children:\"Browse Quizzes\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Quiz\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date Completed\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Score\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:attempts.map(attempt=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:attempt.quiz_title})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:formatDate(attempt.completed_at)})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:`text-sm font-medium ${attempt.score>=80?'text-green-600':attempt.score>=60?'text-yellow-600':'text-red-600'}`,children:[Math.round(attempt.score),\"%\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsx(Link,{to:`/quiz-results/${attempt.id}`,className:\"text-primary-600 hover:text-primary-900\",children:\"View Results\"})})]},attempt.id))})]})})})]});};export default QuizHistory;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QuizHistory","attempts","setAttempts","loading","setLoading","error","setError","fetchQuizHistory","response","get","data","err","console","formatDate","dateString","options","year","month","day","hour","minute","Date","toLocaleDateString","undefined","className","children","length","to","scope","map","attempt","quiz_title","completed_at","score","Math","round","id"],"sources":["/home/yves/Test/frontend/src/pages/QuizHistory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst QuizHistory = () => {\n  const [attempts, setAttempts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchQuizHistory = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get('/quizzes/history/');\n        setAttempts(response.data);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching quiz history:', err);\n        setError('Failed to load quiz history. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchQuizHistory();\n  }, []);\n\n  // Format date\n  const formatDate = (dateString) => {\n    const options = { \n      year: 'numeric', \n      month: 'short', \n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <h1 className=\"text-3xl font-bold mb-8 text-center text-primary-800\">Your Quiz History</h1>\n\n      {/* Error message */}\n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n          {error}\n        </div>\n      )}\n\n      {/* Loading state */}\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"></div>\n        </div>\n      ) : (\n        <>\n          {attempts.length === 0 ? (\n            <div className=\"bg-white rounded-lg shadow-md p-8 text-center\">\n              <h2 className=\"text-xl font-semibold mb-4 text-gray-700\">No Quiz History Yet</h2>\n              <p className=\"text-gray-600 mb-6\">You haven't completed any quizzes yet. Start taking quizzes to build your history!</p>\n              <Link\n                to=\"/quizzes\"\n                className=\"bg-primary-600 hover:bg-primary-700 text-white py-2 px-6 rounded-md transition duration-300 inline-block\"\n              >\n                Browse Quizzes\n              </Link>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Quiz\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Date Completed\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Score\n                    </th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {attempts.map((attempt) => (\n                    <tr key={attempt.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-gray-900\">{attempt.quiz_title}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-500\">{formatDate(attempt.completed_at)}</div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className={`text-sm font-medium ${\n                          attempt.score >= 80 ? 'text-green-600' :\n                          attempt.score >= 60 ? 'text-yellow-600' :\n                          'text-red-600'\n                        }`}>\n                          {Math.round(attempt.score)}%\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <Link \n                          to={`/quiz-results/${attempt.id}`}\n                          className=\"text-primary-600 hover:text-primary-900\"\n                        >\n                          View Results\n                        </Link>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default QuizHistory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}